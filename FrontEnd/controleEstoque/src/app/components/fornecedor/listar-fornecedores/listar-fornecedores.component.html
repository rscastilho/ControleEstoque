<app-titulo [titulo] ="'Fornecedores cadastrados'"></app-titulo>

<!-- com o ngif e o sort tem bug. para funcionar o sort tem que tirar o ngif -->
<div *ngIf="fornecedores">
  <div class="alinharDireita" style="margin-right: 20px;">
    <mat-form-field>
      <input matInput type="text" placeholder="Pesquisar" maxlength="50" minlength="3">
    </mat-form-field>
  </div>
  <div class="alinharDireita" style="margin-right: 20px;">
    <button mat-stroked-button matTooltip="Cadastrar novo produto" matTooltipPosition="left" routerLink="/cadastrarfornecedor"><mat-icon>add</mat-icon></button>
</div>
  <table mat-table [dataSource]="fornecedores" class="table" matSort>

    <ng-container matColumnDef="razaoSocial">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Raz√£o Social</th>
      <td mat-cell *matCellDef="let fornecedor">{{fornecedor.razaoSocial}}</td>
    </ng-container>
    <ng-container matColumnDef="cnpj">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>CNPJ</th>
      <td mat-cell *matCellDef="let fornecedor">{{fornecedor.cnpj | mask:'CPF_CNPJ'}}</td>
    </ng-container>
    <ng-container matColumnDef="acao">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let fornecedor">
        <button mat-button color="primary" matTooltip="atualizar produto" matTooltipPosition="left" routerLink="/atualizarfornecedor/{{fornecedor.id}}"> <mat-icon>edit_notes</mat-icon></button>
       <button mat-button color="warn" matTooltip="Deletar produto" matTooltipPosition="below" (click)="openDialog(fornecedor.id, fornecedor.razaoSocial)"> <mat-icon>delete</mat-icon></button>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayColumns"></tr>
  </table>
  <mat-divider></mat-divider>
</div>
